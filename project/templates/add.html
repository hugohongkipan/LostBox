{#
  這裡是「刊登失物」頁面。
  提供單位機構用戶填寫失物資訊，包括拾獲地點、日期、類別、聯絡方式與圖片上傳等。
  表單將資料提交至後端 `/add` 路由做處理。
#}

{% extends "base.html" %}

{% block title %}LostBox | 刊登失物{% endblock %}

{% block content %}
<!-- 載入動態載入縣市選單的 JavaScript。 -->
<script src="{{ url_for('static', filename='js/load.js') }}"></script>

<section class="blue_image">
  <!-- 表單需使用 enctype="multipart/form-data" 以支援圖片上傳。 -->
  <form method="post" enctype="multipart/form-data" action="{{ url_for('add') }}" class="form-wrapper">

    <!-- 頁面上方示意圖片。 -->
    <div class="mb-3">
      <div class="text-center">
        <img src="{{ url_for('static', filename='images/a_photo.png') }}" class="top_photo" />
      </div>

      <!-- 撿到的地點欄位群組：縣市 / 鄉鎮市區 / 詳細地址。 -->
      <label for="lost_county" class="form-label">撿到的地點</label>
      <div class="row g-2">
        <div class="col-md-4 col-12">
          <select id="lost_county" name="lost_county" class="form-select" required>
            <option value="">請選擇縣市</option>
          </select>
        </div>

        <div class="col-md-4 col-12">
          <select id="lost_district" name="lost_district" class="form-select" required>
            <option value="">請選擇鄉鎮市區</option>
          </select>
        </div>

        <div class="col-md-4 col-12">
          <input type="text" class="form-control" id="lost_location" name="lost_location" placeholder="請輸入詳細位置" required>
        </div>
      </div>
    </div>

    <!-- 撿到的日期與失物類別。 -->
    <div class="mb-3">
      <div class="row g-2 align-items-end">
        <div class="col-md-3 col-12">
          <label for="lost_date" class="form-label">撿到的日期</label>
          <input type="date" class="form-control" id="lost_date" name="lost_date" required>
        </div>

        <div class="col-md-9 col-12">
          <label for="lost_category" class="form-label">失物類別</label>
          <select id="lost_category" name="lost_category" class="form-select">
            <option value="">請選擇失物類別</option>
          </select>
        </div>
      </div>
    </div>

    <!-- 失物照片上傳。 -->
    <div class="mb-3">
      <label for="lost_image" class="form-label">失物照片</label>
      <input type="file" class="form-control" id="lost_image" name="lost_image" accept="image/*">
    </div>

    <!-- 寄放地點（由登入會員自動帶入，不可編輯）。 -->
    <div class="mb-3">
      <label for="address" class="form-label">寄放地點</label>
      <input type="text" class="form-control" id="address" name="address" placeholder="請輸入寄放地點" value="{{ member.address }}" readonly>
    </div>

    <!-- 聯絡資訊（由登入會員自動帶入，不可編輯）。 -->
    <div class="mb-3">
      <label for="contact" class="form-label">聯絡資訊</label>
      <input type="text" class="form-control" id="contact" name="contact" placeholder="請輸入聯絡資訊" value="{{ member.contact }}" readonly>
    </div>

    <!-- 失物描述與補充備註。 -->
    <div class="mb-3">
      <label for="note" class="form-label">詳細描述及備註</label>
      <textarea class="form-control" id="note" name="note" rows="4" placeholder="請輸入詳細描述及備註"></textarea>
    </div>

    <!-- 表單送出按鈕。 -->
    <div class="text-center mt-2">
      <button type="submit" class="btn btn-outline-light btn-lg mt-2">送出</button>
    </div>

  </form>
</section>
{% endblock %}
